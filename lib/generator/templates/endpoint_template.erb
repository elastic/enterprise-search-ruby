<%= ERB.new(File.read(CURRENT_PATH + "/templates/_license.erb"), trim_mode: '-').result(binding)%>

module Elastic
  module EnterpriseSearch
    <% if @name != :enterprise -%>
      module <%= namespace %>
    <% end -%>
      module Actions
        <%= @doc -%>
        def <%= @method_name %><%= method_signature_params %>
          <% required_params.map do |required|
              name = required['name'] -%>
            raise ArgumentError, "Required parameter '<%= name %>' missing" unless <%= name %>
          <% end -%>

          request(
            <%= request_method_params %>
          )
        end

        <%= aliases %>
      end
    end
  end
<% if @name != :enterprise -%>
  end
<% end -%>
